# 1057(토너먼트)

> 문제설명

김지민은 N명이 참가하는 스타 토너먼트에 진출했다. 토너먼트는 다음과 같이 진행된다. 일단 N명의 참가자는 번호가 1번부터 N번까지 배정받는다. 그러고 난 후에 서로 인접한 번호끼리 스타를 한다. 이긴 사람은 다음 라운드에 진출하고, 진 사람은 그 라운드에서 떨어진다. 만약 그 라운드의 참가자가 홀수명이라면, 마지막 번호를 가진 참가자는 다음 라운드로 자동 진출한다. 다음 라운드에선 다시 참가자의 번호를 1번부터 매긴다. 이때, 번호를 매기는 순서는 처음 번호의 순서를 유지하면서 1번부터 매긴다. 이 말은 1번과 2번이 스타를 해서 1번이 진출하고, 3번과 4번이 스타를 해서 4번이 진출했다면, 4번은 다음 라운드에서 번호 2번을 배정받는다. 번호를 다시 배정받은 후에 한 명만 남을 때까지 라운드를 계속 한다.

마침 이 스타 대회에 임한수도 참가했다. 김지민은 갑자기 스타 대회에서 우승하는 욕심은 없어지고, 몇 라운드에서 임한수와 대결하는지 궁금해졌다. 일단 김지민과 임한수는 서로 대결하기 전까지 항상 이긴다고 가정한다. 1 라운드에서 김지민의 번호와 임한수의 번호가 주어질 때, 과연 김지민과 임한수가 몇 라운드에서 대결하는지 출력하는 프로그램을 작성하시오.

> 전체코드

```c++
#include <iostream>
#include <string>

using namespace std;

int main() {
	int n = 0, kim = 0, im = 0, cnt = 0;
	cin >> n >> kim >> im;

	while (kim != im) {
		if (n <= 0) {
			cout << -1 << endl;
			return 0;
		}
		kim = kim / 2 + kim % 2;
		im = im / 2 + im % 2;
		cnt++;
		n /= 2;
	}
	cout << cnt << endl;
}
```

> 코드설명

1. int 형 변수 n, kim, im, cnt를 선언한다. n은 참가자 수, kim은 김지민의 번호, im은 임한수의 번호, cnt는 몇 라운드 째인지를 카운트하는 변수이다.

2. cin을 통해 n, kim, im을 입력받는다.

3.  while()문을 사용해 kim과 im이 같지 않을 때까지 반복하여 계산한다.

4. 만약 n이 0보다 작거나 같을 경우 모든 경기가 끝났고 둘이 만나지 못했다고 판단할 수 있으므로 -1을 출력한다.

5. kim과 im 모두 2로 나눈 후 2로 나눈 나머지와 더해준 값을 넣어준다. 이런 계산을 하는 이유는 그림을 그려보면 알 수 있다. 

   ![99685133598C2B9820](C:\Users\lucky\OneDrive\Desktop\99685133598C2B9820.png)

만약 kim의 번호가 현재 9라면 다음 라운드에는 번호가 5가 된다. 그 다음 라운드에서는 3이 된다. 마지막으로는 2가 된다. im 또한 번호가 8이라면 다음 라운드에는 4, 그 다음엔 2, 마지막엔 1이 된다. 이 관계를 생각했을때 현재 값을 2로 나눈 값과 2로 나눈 나머지를 더해준 값이 다음 번호가 된다는 것을 알 수 있다. 이를 식으로 표현한 것이 

```c++
kim = kim / 2 + kim % 2;
im = im / 2 + im % 2;
```

이다.

6. cnt++을 통해 cnt의 값을 1 올려준다. 위 식의 연산을 했다는 것은 라운드가 지나갔다는 것이므로 cnt가 올라가는 것이다.
7. n을 2로 나눠준다. 우리가 흔히 16강, 8강, 4강 으로 이야기하듯이 토너먼트는 라운드가 진행되었을 경우 참가자의 수가 반으로 줄어들게 된다. 따라서 참가자 수인 n을 2로 나눠준다.
8. while문이 종료되었다면 김지민과 임한수가 만났다는 것이고, 최종적으로 cnt를 출력해준다.